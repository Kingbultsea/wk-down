(function(e){function t(t){for(var a,i,c=t[0],s=t[1],l=t[2],u=0,p=[];u<c.length;u++)i=c[u],o[i]&&p.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"2501d011"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=o[e]=[t,a]});t.push(n[2]=a);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(e),r=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[e]=void 0}};var l=setTimeout(function(){r({type:"timeout",target:s})},12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://webres.psy-1.com/sgy/dist/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"113b":function(e,t,n){},"21bb":function(e,t,n){"use strict";var a=n("22a8"),o=n.n(a);o.a},"22a8":function(e,t,n){},"2cef":function(e,t,n){e.exports=n.p+"img/logo@3x.cbde81c5.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("7bc1"),n("dac5"),n("6e26"),n("9604"),n("df67");var a=n("6e6d"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"app-template"},[n("router-view")],1)])},r=[],i=(n("34a3"),n("3c6b"),n("7364"),n("98d4")),c=n("ab1f"),s=n("2427"),l=n.n(s),u=function(){function e(t){var n=t.url,a=t.title,o=t.desc,r=t.pic,c=t.dataUrl,s=void 0===c?null:c;Object(i["a"])(this,e),console.log("??"),n,this.url=n,this.title=a,this.desc=o,this.pic=r,this.dataUrl=s}return Object(c["a"])(e,[{key:"appShare",value:function(){var e={type1:{title:this.title,desc:this.desc,link:this.url,imgUrl:this.pic,shareType:1},type2:{title:this.title,link:this.url,imgUrl:this.pic,shareType:2},type3:{imgUrl:"",shareType:3}};document.getElementById("share").value=JSON.stringify(e),document.getElementById("share2").value=JSON.stringify(e.type1),document.getElementById("share3").value=JSON.stringify(e.type2)}},{key:"callAppRouter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a={Method:e,Data:t},o="CB_".concat(Date.now(),"_").concat(Math.ceil(10*Math.random()));a=JSON.stringify(a),Xinchao.Web[o]=function(e,t){n&&n(e,t),delete Xinchao.Web[o]},/(iPhone|iPad|iPod)/i.test(navigator.userAgent)?window.webkit.messageHandlers.XinchaoApp.postMessage({req:a,cbName:o}):XinchaoApp.callRouter(a,o)}},{key:"appGetName",value:function(){var e=this;this.callAppRouter("isLogin",{},function(t,n){"已登录"===JSON.parse(n).msg&&e.callAppRouter("Login",{},function(e,t){try{var n=JSON.parse(t);localStorage.setItem("name",n.data.name),localStorage.setItem("avatar",n.data.avatar),console.log(n,"hkjhkhk"),console.log(n.data.name,"fgjhfjhfj")}catch(a){console.log(t.data.avatar),localStorage.setItem("avatar",t.data.avatar),localStorage.setItem("name",t.data.name),console.log(t.data.name)}})})}},{key:"weiXinShare",value:function(){var e=this,t={title:e.title,desc:e.desc,link:e.url,imgUrl:e.pic};this.dataUrl,wx.ready(function(e){wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareQZone(t),wx.onMenuShareTimeline(t),wx.error(function(e){})})}},{key:"weiXinSDK",value:function(e,t){var n=new XMLHttpRequest,a=this;n.open("GET",e+"/web/v1/wechat/config?debug=1&url="+encodeURIComponent(location.href.split("#")[0])),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){console.log("sdk ok",t,t&&!localStorage.getItem("name"));var o=JSON.parse(n.response);console.log(o.data.wechat_config),o.data.wechat_config.debug=!1,console.log("这里错误？");var r="experiment"!==Object({NODE_ENV:"production",BASE_URL:"https://webres.psy-1.com/sgy/dist/"}).VUE_APP_TITLE?"wx2dbf7017998b37cb":"wx632d4c99bd681cf3";console.log("bl 没有bl 吗？",t,t&&!localStorage.getItem("name")),t&&!localStorage.getItem("name")&&(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+r+"&redirect_uri="+encodeURI(location.href.split("#")[0])+"&response_type=code&scope=snsapi_userinfo#wechart_redirect"),t&&!localStorage.getItem("name")||(wx.config(o.data.wechat_config),a.weiXinShare(),a.weiXinGetName(e))}},n.send()}},{key:"weatherCode",value:function(){var e=/code=(.+?)&/,t=window.location.href.match(e);return localStorage.setItem("code",t),t||!1}},{key:"weiXinGetName",value:function(e){if(!localStorage.getItem("name")){console.log(t+"cd"+localStorage.getItem("code"));var t=localStorage.getItem("code").replace(/code=/,"").replace(/\&.+/,"");console.log("axios 错误吗"),l.a.get(e+"/web/v1/wechat/user",{params:{code:t}}).then(function(e){var t=e.data;t.hasOwnProperty("data")&&(console.log(t),console.log("设置session"),localStorage.setItem("avatar",t.data.headimgurl),localStorage.setItem("name",t.data.nickname),console.log(t.data.nickname))})}}},{key:"weiXinInit",value:function(e){var t=this.weatherCode();t?this.weiXinSDK(e,!1):this.weiXinSDK(e,!0)}},{key:"appInit",value:function(){this.appShare(),this.appGetName()}},{key:"rawWeiXinShare",value:function(e){var t=new XMLHttpRequest,n=this;t.open("GET",e+"/web/v1/wechat/config?debug=1&url="+encodeURIComponent(location.href.split("#")[0])),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){console.log("sdk ok");var e=JSON.parse(t.response);console.log(e.data.wechat_config),e.data.wechat_config.debug=!1,wx.config(e.data.wechat_config),n.weiXinShare()}},t.send()}},{key:"rawGetName",value:function(){}}]),e}(),d=n("157a"),p=n.n(d),h={data:function(){return{}},methods:{test:function(e){var t=new u({pic:"http://wx1.sinaimg.cn/large/006Zdy2vgy1g0fd9no3cyj305f05fmwz.jpg",url:window.location.href.split("#")[0],title:"嘘~悄悄把心告诉你",desc:e});t.appShare(),t.rawWeiXinShare(this.url)}},mounted:function(){}},f=h,g=(n("5c0b"),n("5c64"),n("6691")),m=Object(g["a"])(f,o,r,!1,null,null,null),v=m.exports,y=n("8b48"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auto-phase",style:e.home_height},[a("img",{staticClass:"ig",attrs:{src:n("c483")}}),a("div",{staticClass:"img-title"},[a("div",[e._v(e._s(this.startTime)+"-"+e._s(this.endTime))])]),e._l(e.list,function(t,n){return a("div",{key:n,staticClass:"template"},[a("div",{staticClass:"title"},[e._v(e._s(t.detail.musicdesc))]),a("div",{staticClass:"center"},[a("img",{staticClass:"c-img",attrs:{src:t.cover_coupon}}),a("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.parseBR(t.detail.resdesc))}})]),a("div",{staticClass:"button",on:{click:function(n){return e.toLink(t.detail.category_id,t.id)}}},[a("div",{staticClass:"now-price"},[e._v("特价"+e._s(t.detail.price)+"元")]),a("div",{staticClass:"price"},[e._v("原价"+e._s(t.detail.price_origin)+"元")])])])}),e._m(0),a("img",{staticClass:"logo",attrs:{src:n("2cef")}}),a("img",{staticClass:"btn",attrs:{src:n("dd6a")},on:{click:e.toMember}})],2)},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[e._v("\n    特价内容每周更换"),n("br"),e._v("\n    开通会员无限畅享\n  ")])}],_=n("9090"),S=(n("0857"),n("7c56"),n("0eb5"),n("a4c5"),n("f763"),function(){function e(){Object(i["a"])(this,e)}return Object(c["a"])(e,null,[{key:"promiseForBoolean",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={};Object.assign(a,n);var o=function(t){n.boolean===!a.boolean&&(clearInterval(e),t())};return t=new Promise(function(t,n){e=setInterval(o.bind(null,t),1e3)}),t}},{key:"getAPIData",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=new(new XMLHttpRequest),o="";a.open("GET",e),a.onreadystatechange=function(){4===this.readyState&&200===this.status&&t&&t()},a.setRequestHeader("Content-Type","application/json");var r=!0,i=!1,c=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,d=u.val,p=u.key;o+=p+"="+d+"&"}}catch(h){i=!0,c=h}finally{try{r||null==l.return||l.return()}finally{if(i)throw c}}o.replace(/&$/,""),a.send()}},{key:"randomNum",value:function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}}},{key:"musicCount",value:function(e){var t=parseInt(e),n=0,a=0;t>60&&(n=parseInt(t/60),t=parseInt(t%60),n>60&&(a=parseInt(n/60),n=parseInt(n%60)));var o="";parseInt(t)<10&&(o="0");var r=o+parseInt(t)+" ",i="0";return r=i+parseInt(n)+" : "+r,a>0&&(r=parseInt(a)+"小时"+r),r}},{key:"dateFormat",value:function(e,t){if(!t||"string"!==typeof t)return console.error("format is undefiend or type is Error"),"";e=e instanceof Date?e:"number"===typeof e||"string"===typeof e?new Date(e):new Date;var n={"y+":e.getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var a in n)if(new RegExp(a).test(t)){var o=RegExp.lastMatch;t=t.replace(o,n[a]<10?"0"+n[a]:n[a].toString())}return t}},{key:"judgeWeiXin",value:function(){var e=null;return window.navigator.userAgent.toLowerCase().match(/QQ/i)&&(e=window.navigator.userAgent.toLowerCase().match(/QQ/i)[0]),!(!/micromessenger/.test(navigator.userAgent.toLowerCase())&&"qq"!==e)}},{key:"deepCopy",value:function(t){var n=t.constructor===Array?[]:{};for(var a in t)n[a]="object"===Object(_["a"])(t[a])?e.deepCopy(t[a]):t[a];return n}},{key:"deBounce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=null;return function(){null!==n&&clearTimeout(n),n=setTimeout(e,t)}}},{key:"parseQuery",value:function(e){var t={},n=/[?&]([^=&#]+)=([^&#]*)/g,a=e.match(n);if(a)for(var o in a){var r=a[o].split("="),i=r[0].substr(1),c=r[1];t[i]?t[i]=[].concat(t[i],c):t[i]=c}return t}}]),e}()),k={name:"home",data:function(){return{allPrice:0,home_height:0,timeDate:"",list:[],startTime:"",endTime:""}},components:{},methods:{toMember:function(){var e={code:10017};this.callAppRouter("Redirect",e,function(e,t){})},callAppRouter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a={Method:e,Data:t},o="CB_".concat(Date.now(),"_").concat(Math.ceil(10*Math.random()));a=JSON.stringify(a),Xinchao.Web[o]=function(e,t){n&&n(e,t),delete Xinchao.Web[o]},/(iPhone|iPad|iPod)/i.test(navigator.userAgent)?window.webkit.messageHandlers.XinchaoApp.postMessage({req:a,cbName:o}):XinchaoApp.callRouter(a,o)},parseQuery:function(e){var t={},n=/[?&]([^=&#]+)=([^&#]*)/g,a=e.match(n);if(a)for(var o in a){var r=a[o].split("="),i=r[0].substr(1),c=r[1];t[i]?t[i]=[].concat(t[i],c):t[i]=c}return t},toLink:function(e,t){var n={code:1052,category_id:e,voice_id:t};this.callAppRouter("Redirect",n,function(e,t){})},parseBR:function(e){return e.replace(/\n/g,"<br/>")},getData:function(){var e=this,t=this.parseQuery(document.URL);this.$axios.get("/web/v1/cosleep/week/coupon",{params:{coupon_id:t.coupon_id}}).then(function(t){if(5!==parseInt(t.data.status)){var n=t.data.data;for(var a in e.startTime=S.dateFormat(+(n.coupon_start+"000"),"yyyy年MM月dd日"),e.endTime=S.dateFormat(+(n.coupon_end+"000"),"MM月dd日"),e.list=n.coupon_list,e.list)e.allPrice+=parseFloat(e.list[a].detail.price);e.allPrice=e.allPrice.toFixed(2),console.log(t.data.data)}})}},mounted:function(){document.title="小睡眠每周限免活动",this.getData()}},I=k,O=(n("21bb"),Object(g["a"])(I,w,b,!1,null,null,null)),E=O.exports;a["a"].use(y["a"]);var j=new y["a"]({routes:[{path:"/",name:"home",component:E},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),x=n("591a");a["a"].use(x["a"]);var M=new x["a"].Store({state:{},mutations:{},actions:{}}),A=n("e1bc");Object(A["a"])("".concat("https://webres.psy-1.com/sgy/dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var C=function(){function e(){Object(i["a"])(this,e)}return Object(c["a"])(e,null,[{key:"is_cosleep",value:function(){return this.is_cosleep_android()||this.is_cosleep_ios()}},{key:"is_cosleep_ios",value:function(){var e=!1;try{e="undefined"!==typeof window.webkit.messageHandlers.XinchaoApp}catch(t){}return e}},{key:"is_cosleep_android",value:function(){return"undefined"!==typeof window.XinchaoApp}},{key:"get_api_root",value:function(){switch("production"){case"production":return"https://api.psy-1.com";case"test":return"https://api.debug.psy-1.com"}}},{key:"get_web_root",value:function(){switch("production"){case"production":return"https://www.heartide.com";case"test":return"https://web.debug.psy-1.com"}}},{key:"baidu_statics",value:function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c6a0be7a2e98e04ca2cf523568e2cbc4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}]),e}();console.log("production",Object({NODE_ENV:"production",BASE_URL:"https://webres.psy-1.com/sgy/dist/"}).VUE_APP_TITLE);var N="experiment"!==Object({NODE_ENV:"production",BASE_URL:"https://webres.psy-1.com/sgy/dist/"}).VUE_APP_TITLE?"https://api.psy-1.com":"https://api.debug.psy-1.com",T=l.a.create({baseURL:N});a["a"].prototype.WJH=S,a["a"].prototype.$axios=T,a["a"].config.productionTip=!1,n("dc72"),a["a"].use(p.a),console.log(Object({NODE_ENV:"production",BASE_URL:"https://webres.psy-1.com/sgy/dist/"})),new a["a"]({router:j,store:M,data:function(){return{url:N}},methods:{shareM:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"小睡眠",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=new u({pic:n,url:window.location.href.split("#")[0],title:e,desc:t});a.appShare(),a.rawWeiXinShare(this.url)},test:function(){C.is_cosleep()&&this.share.appGetName(),/micromessenger/.test(navigator.userAgent.toLowerCase())&&(this.share.weiXinInit(this.url),this.share.weatherCode(),this.share.weiXinGetName(this.url))}},render:function(e){return e(v)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("ca9d"),o=n.n(a);o.a},"5c64":function(e,t,n){"use strict";var a=n("113b"),o=n.n(a);o.a},c483:function(e,t,n){e.exports=n.p+"img/矩形@3x.6b3cc47e.png"},ca9d:function(e,t,n){},dc72:function(e,t){function n(){var e=document.documentElement.clientWidth,t=document.querySelector("html");t.style.fontSize=e/10+"px"}n(),window.addEventListener("resize",n)},dd6a:function(e,t,n){e.exports=n.p+"img/btn.7296979d.png"}});
//# sourceMappingURL=app.4813d48e.js.map