(function(e){function t(t){for(var n,o,r=t[0],c=t[1],u=t[2],_=0,d=[];_<r.length;_++)o=r[_],s[o]&&d.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={app:0},i=[];function o(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"b8cabc56"}[e]+".js"}function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise(function(t,n){a=s[e]=[t,n]});t.push(a[2]=n);var i,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=o(e),i=function(t){u.onerror=u.onload=null,clearTimeout(_);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+i+")");o.type=n,o.request=i,a[1](o)}s[e]=void 0}};var _=setTimeout(function(){i({type:"timeout",target:u})},12e4);u.onerror=u.onload=i,c.appendChild(u)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var _=0;_<c.length;_++)t(c[_]);var l=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0a9a":function(e,t,a){"use strict";var n=a("5576"),s=a.n(n);s.a},"14c1":function(e,t,a){},"522c":function(e,t,a){},"53eb":function(e,t,a){},5576:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=(a("5c0b"),a("b0a0"),a("2877")),r={},c=Object(o["a"])(r,s,i,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,_=a("8c4f"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("img",{staticClass:"top-img",attrs:{src:e.bg_img}}),a("img",{staticClass:"title1",attrs:{src:e.title_img}}),a("music",{staticClass:"music",attrs:{offPath:e.offPath,onPath:e.onPath}}),a("div",{staticClass:"music-count"},[e._v(e._s(e.two))]),a("span"),a("div",{staticClass:"danmu"},e._l(e.danmu_list,function(t){return a("div",{staticClass:" danmu-list moveLeftAnimatin",style:{top:t.top},attrs:{mark:"1"},on:{click:e.fuck}},[a("img",{staticClass:"danmu-list-touxiang",attrs:{src:t.img}}),a("p",{staticClass:"danmu-list-sentance"},[e._v(e._s(t.info))])])})),a("div",{staticClass:"desc"},[a("img",{staticClass:"dianzan-img move-top",attrs:{src:"https://res.psy-1.com/music/voice/tinysleep_sheep_like2-7PqzI3Mc7kjzzeCKNSP4.png"},on:{click:e.zanClick}}),a("div",{staticClass:"dianzan move-top"},[e._v("已有"),a("span",{staticClass:"inner"},[e._v(e._s(e.dianzan))]),e._v("人点赞")]),a("div",{staticClass:"top"},[a("div",{staticClass:"swa",domProps:{innerHTML:e._s(e.music_intro)}}),a("div",{staticClass:"xwa"}),e._m(0)]),e._m(1)]),a("transition",{attrs:{name:"fade"}},[e.tips_toggle?a("div",{staticClass:"tips"},[e._v("点一次就好，不要太贪心哦~")]):e._e()]),e.end?a("div",{staticClass:"end"},[a("div",{staticClass:"outer"},[a("img",{staticClass:"end-bg",attrs:{src:"https://webres.psy-1.com/sgy/dist/static/img/tinysleep_sheep_window_bg.fbc1ed4.png"}}),a("p",{staticClass:"one-p"},[e._v("试听结束")]),a("p",{staticClass:"two-p"},[e._v("想听完整版？")]),e._m(2),a("div",{staticClass:"close",on:{click:e.close}})])]):e._e()],1)},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"xx"},[n("img",{staticClass:"xx-img",attrs:{src:"https://res.psy-1.com/music/voice/tinysleep_sheep_bottom_line2-buAPsmFJlLt7NdM4Nd34-MmpN6znmAth1TfIlPQk3.png"}}),n("img",{staticClass:"xx-hehe",attrs:{src:a("b78c")}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bottom"},[n("div",{staticClass:"bottom-img"},[n("img",{staticClass:"bottom-hehe",attrs:{src:a("b78c")}})]),n("p",{staticClass:"bottom-center"},[e._v("小睡眠，不负休憩好时光")]),n("a",{staticClass:"dl",attrs:{target:"view_window",href:"https://a.app.qq.com/o/simple.jsp?pkgname=com.psyone.brainmusic"}},[n("p",{staticClass:"bottom-dl"},[e._v("下载")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"dl",attrs:{target:"view_window",href:"https://a.app.qq.com/o/simple.jsp?pkgname=com.psyone.brainmusic"}},[a("p",{staticClass:"three-p"},[e._v("去下载小睡眠")])])}],m=a("9cae"),p=m["a"],h=(a("0a9a"),a("b5d4"),Object(o["a"])(p,l,d,!1,null,"1c0ead52",null));h.options.__file="Home.vue";var f=h.exports;n["a"].use(_["a"]);var g=new _["a"]({routes:[{path:"/",name:"home",component:f},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),v=a("2f62"),y=a("c665"),b=a("aa9a"),w=function(){function e(){Object(y["a"])(this,e)}return Object(b["a"])(e,null,[{key:"is_cosleep",value:function(){return this.is_cosleep_android()||this.is_cosleep_ios()}},{key:"is_cosleep_ios",value:function(){var e=!1;try{e="undefined"!=typeof window.webkit.messageHandlers.XinchaoApp}catch(e){}return e}},{key:"is_cosleep_android",value:function(){return"undefined"!=typeof window.XinchaoApp}},{key:"get_api_root",value:function(){switch("production"){case"production":return"https://api.psy-1.com";case"test":return"https://api.debug.psy-1.com"}}},{key:"get_web_root",value:function(){switch("production"){case"production":return"https://www.heartide.com";case"test":return"https://web.debug.psy-1.com"}}},{key:"baidu_statics",value:function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c6a0be7a2e98e04ca2cf523568e2cbc4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}]),e}();n["a"].use(v["a"]);var E=new v["a"].Store({state:{},getters:{isWeiXin:function(){return/micromessenger/.test(navigator.userAgent.toLowerCase())},isApp:function(){return w.is_cosleep()}},mutations:{},actions:{}});n["a"].config.productionTip=!1,new n["a"]({router:g,store:E,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("53eb"),s=a.n(n);s.a},"5c2c":function(e,t,a){"use strict";var n=a("14c1"),s=a.n(n);s.a},"8f19":function(e,t,a){"use strict";var n=a("522c"),s=a.n(n);s.a},"9cae":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_4__),_components_music_vue__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("abde"),_components_shareandgetname_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("fce9");function randomNum(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}}__webpack_require__("ea57"),__webpack_exports__["a"]={name:"home",data:function(){return{offPath:"https://res.psy-1.com/music/voice/tinysleep_sheep_stop2-jwlPPhdRF58oErMNroV2.png",onPath:"https://res.psy-1.com/music/voice/tinysleep_sheep_play2-BHgSoY5B6WFClAfSEh2i.png",dianzan:1e3,danmu_list:[],max:25,tips_toggle:!1,one:1,two:"01 : 12",music_intro:"",func_id:"10012",func_type:"4",sharecode:"sharecode=b7e7a268e5c374ce65b72a5f4af686a6a28ab369",url:"https://api.debug.psy-1.com",get_danmu_data:"",end:!1,share_title:"",share_desc:"",share_img:"",share_bg:"",bg_img:"",title_img:""}},components:{music:_components_music_vue__WEBPACK_IMPORTED_MODULE_5__["a"]},methods:{changeBG:function(e){document.querySelector("#app").style.backgroundColor=e},changeTitle:function(){},changeCenter:function(){},apiInit:function(e){},apiDianZan:function apiDianZan(url){var _this=this;$.get(url+"/web/v1/smallslleep/music/voteData",{func_id:this.func_id,func_type:this.func_type,sharecode:this.sharecode},function(data){var mark=0;localStorage.getItem("mark")&&(mark=parseInt(localStorage.getItem("mark"))),_this.dianzan=data.data.share_reg_count+mark,_this.music_intro=data.data.music_data.music_intro;var z=data.data.music_data.music_intro.replace(/\n/g,"</p><p>"),result="<p>"+z;_this.music_intro=result,console.log(data.data.music_data),_this.share_desc=data.data.music_data.share_desc,_this.share_title=data.data.music_data.share_title,_this.share_img=data.data.music_data.share_imgurl,_this.bg_img=data.data.music_data.page_bg_img,_this.title_img=data.data.music_data.page_title_img,_this.changeBG(data.data.music_data.page_bg_color),_this.musicPath=data.data.music_data.musicurl_try;var danmudata=eval("("+data.data.music_data.share_danmu+")");console.log(danmudata),_this.get_danmu_data=danmudata;var share=new _components_shareandgetname_js__WEBPACK_IMPORTED_MODULE_6__["a"]({pic:_this.share_img,url:window.location.href.split("#")[0],title:_this.share_title,desc:_this.share_desc});share.rawWeiXinShare("https://api.debug.psy-1.com"),_this.$store.getters.isApp&&share.appInit()})},apiDianZanClick:function(e){$.get(e+"/web/v1/smallslleep/music/voteData",{func_id:this.func_id,func_type:this.func_type,sharecode:this.sharecode},function(e){console.log("jq都不行？")})},close:function(){this.end=!this.end,this.$children[0].musicPlay(),this.someThingShow()},zanClick:function(){var e=this;this.apiDianZanClick(this.url),localStorage.getItem("mark")?(this.tips_toggle=!0,setTimeout(function(){e.tips_toggle=!1},1e3)):(this.dianzan+=1,localStorage.setItem("mark","1"))},fuck:function(e){if(e.preventDefault(),e.target.getAttribute("mark")){if(console.log(e.target),1==e.target.getAttribute("mark")){var t=getComputedStyle(e.target).transform;e.target.style.transform=t,e.target.setAttribute("mark","0"),e.target.classList.remove("moveLeftAnimatin"),setTimeout(function(){e.target.classList.add("moveLeftAnimatin"),e.target.setAttribute("mark","1")},2e3)}}else if(console.log(e.target.parentNode),1==e.target.parentNode.getAttribute("mark")){var a=getComputedStyle(e.target.parentNode).transform;console.log(a),e.target.parentNode.style.transform=a,e.target.parentNode.setAttribute("mark","0"),e.target.parentNode.classList.remove("moveLeftAnimatin"),setTimeout(function(){e.target.parentNode.classList.add("moveLeftAnimatin"),e.target.parentNode.setAttribute("mark","1")},2e3)}},danmuXiTong:function(){var e=this.get_danmu_data[randomNum(0,9)],t={info:"九嶷山",img:"",top:"10%"};t.top=randomNum(0,100)+"%",t.info=e.info,t.img=e.img,this.danmu_list.push(t)},musicCount:function(){var e=72-Math.round(document.querySelector("#myaudio").currentTime);this.two=this.formatSeconds(e)},formatSeconds:function(e){var t=parseInt(e),a=0,n=0;t>60&&(a=parseInt(t/60),t=parseInt(t%60),a>60&&(n=parseInt(a/60),a=parseInt(a%60)));var s="";parseInt(t)<10&&(s="0");var i=s+parseInt(t)+" ",o="0";return i=o+parseInt(a)+" : "+i,n>0&&(i=parseInt(n)+"小时"+i),i},someThingShow:function(){var e=this,t=new Promise(function(e,t){function a(){document.querySelector("#myaudio").ended&&(e(),clearInterval(n))}var n=setInterval(a,1e3)});t.then(function(){e.end=!0})}},created:function(){this.apiDianZan("https://api.debug.psy-1.com")},mounted:function(){var e,t=this,a=this;function n(){a.danmuXiTong.apply(a),a.max-=1,a.max<1&&(clearInterval(e),setTimeout(function(){a.danmu_list=[],e=setInterval(n,2e3),a.max=15},7e3))}e=setInterval(n,2e3),this.someThingShow(),setInterval(function(){t.musicCount()},1e3)}}},abde:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{ref:"audio",staticClass:"music",attrs:{src:e.tgImg},on:{click:e.musicPlay}}),a("audio",{ref:"zz",attrs:{src:"https://res.psy-1.com/music/voice/Boiled_dumplings_1min-PcguwNRLOtnF2Ei8KAEP.mp3",id:"myaudio",controls:"",hidden:""}},[a("source",{attrs:{type:"audio/mpeg"}})])])},s=[],i={name:"music",props:["onPath","offPath"],data:function(){return{toggle:!1,musicdom:document.getElementById("myaudio")}},computed:{tgImg:function(){var e=this.toggle;return e=this.toggle?this.$props.offPath:this.$props.onPath,e}},methods:{musicPlay:function(){this.dontBorderMeFUCKYOU();var e=document.getElementById("myaudio");e.paused?(document.querySelector(".music").classList.add("rotate"),console.log(document.getElementById("myaudio")),document.getElementById("myaudio").play(),console.log("fgh"),this.toggle=!0):(e.pause(),document.querySelector(".music").classList.remove("rotate"),this.toggle=!1)},initMusic:function(){var e=this;this.$store.getters.isWeiXin?document.addEventListener("WeixinJSBridgeReady",function(){console.log("浏览器非苹果播放"),e.musicPlay()},!1):this.$store.getters.isApp&&this.musicPlay()},dontBorderMeFUCKYOU:function(){localStorage.setItem("fuckyou","1")}},mounted:function(){this.initMusic(),localStorage.removeItem("fuckyou")}},o=i,r=(a("5c2c"),a("8f19"),a("2877")),c=Object(r["a"])(o,n,s,!1,null,"d4f0f9d2",null);c.options.__file="music.vue";t["a"]=c.exports},b0a0:function(e,t,a){"use strict";var n=a("e03b"),s=a.n(n);s.a},b5d4:function(e,t,a){"use strict";var n=a("bade"),s=a.n(n);s.a},b78c:function(e,t,a){e.exports=a.p+"img/hehe.8efa2f84.png"},bade:function(e,t,a){},e03b:function(e,t,a){},ea57:function(e,t){function a(){var e=document.documentElement.clientWidth,t=document.querySelector("html");t.style.fontSize=e/10+"px"}a(),window.addEventListener("resize",a)},fce9:function(e,t,a){"use strict";a.d(t,"a",function(){return i});a("a481"),a("4917"),a("28a5"),a("7f7f");var n=a("c665"),s=a("aa9a"),i=function(){function e(t){var a=t.url,s=t.title,i=t.desc,o=t.pic;Object(n["a"])(this,e),console.log("??"),this.url=a,this.title=s,this.desc=i,this.pic=o}return Object(s["a"])(e,[{key:"appShare",value:function(){var e={type1:{title:this.title,desc:this.desc,link:this.url,imgUrl:this.pic,shareType:1},type2:{title:this.title,link:this.url,imgUrl:this.pic,shareType:2},type3:{imgUrl:"",shareType:3}};document.getElementById("share").value=JSON.stringify(e),document.getElementById("share2").value=JSON.stringify(e.type1),document.getElementById("share3").value=JSON.stringify(e.type2)}},{key:"callAppRouter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n={Method:e,Data:t},s="CB_".concat(Date.now(),"_").concat(Math.ceil(10*Math.random()));n=JSON.stringify(n),Xinchao.Web[s]=function(e,t){a&&a(e,t),delete Xinchao.Web[s]},/(iPhone|iPad|iPod)/i.test(navigator.userAgent)?window.webkit.messageHandlers.XinchaoApp.postMessage({req:n,cbName:s}):XinchaoApp.callRouter(n,s)}},{key:"appGetName",value:function(){var e=this;this.callAppRouter("isLogin",{},function(t,a){"已登录"===JSON.parse(a).msg&&e.callAppRouter("Login",{},function(e,t){try{var a=JSON.parse(t);localStorage.setItem("name",a.data.name),console.log(a.data.name)}catch(e){localStorage.setItem("name",t.data.name),console.log(t.data.name)}})})}},{key:"weiXinShare",value:function(){var e=this,t={title:e.title,desc:e.desc,link:e.url,imgUrl:e.pic};wx.ready(function(e){wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareQZone(t),wx.onMenuShareTimeline(t),wx.error(function(e){})})}},{key:"weiXinSDK",value:function(e,t){var a=new XMLHttpRequest,n=this;a.open("GET",e+"/web/v1/wechat/config?debug=1&url="+encodeURIComponent(location.href.split("#")[0])),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){console.log("sdk ok");var s=JSON.parse(a.response);console.log(s.data.wechat_config),s.data.wechat_config.debug=!1,t&&!localStorage.getItem("name")&&(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx632d4c99bd681cf3&redirect_uri="+encodeURI(location.href.split("#")[0])+"&response_type=code&scope=snsapi_userinfo#wechart_redirect"),t&&!localStorage.getItem("name")||(wx.config(s.data.wechat_config),n.weiXinShare(),n.weiXinGetName(e))}},a.send()}},{key:"weatherCode",value:function(){var e=/code=(.+?)&/,t=window.location.href.match(e);return sessionStorage.setItem("code",t),t||!1}},{key:"weiXinGetName",value:function(e){if(!localStorage.getItem("name")){console.log(t+"asd你想要的"+sessionStorage.getItem("code"));var t=sessionStorage.getItem("code").replace(/code=/,"").replace(/\&.+/,"");$.get(e+"/web/v1/wechat/user",{code:t},function(e){console.log("jq都不行？"),console.log(e.data.nickname),localStorage.setItem("name",e.data.nickname)})}}},{key:"weiXinInit",value:function(e){var t=this.weatherCode();t?this.weiXinSDK(e,!1):this.weiXinSDK(e,!0)}},{key:"appInit",value:function(){this.appShare(),this.appGetName()}},{key:"rawWeiXinShare",value:function(e){var t=new XMLHttpRequest,a=this;t.open("GET",e+"/web/v1/wechat/config?debug=1&url="+encodeURIComponent(location.href.split("#")[0])),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){console.log("sdk ok");var e=JSON.parse(t.response);console.log(e.data.wechat_config),e.data.wechat_config.debug=!1,wx.config(e.data.wechat_config),a.weiXinShare()}},t.send()}},{key:"rawGetName",value:function(){if(!localStorage.getItem("name")){console.log(e+"asd你想要的"+sessionStorage.getItem("code"));var e=sessionStorage.getItem("code").replace(/code=/,"").replace(/\&.+/,"");$.get(url+"/web/v1/wechat/user",{code:e},function(e){console.log("jq都不行？"),console.log(e.data.nickname),localStorage.setItem("name",e.data.nickname)})}}}]),e}()}});
//# sourceMappingURL=app.7f538ec2.js.map