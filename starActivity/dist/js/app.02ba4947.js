(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)r=o[u],s[r]&&d.push(s[r][0]),s[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);h&&h(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,r=1;r<a.length;r++){var c=a[r];0!==s[c]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={app:0},n=[];function r(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"c886df6e"}[t]+".js"}function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise(function(e,i){a=s[t]=[e,i]});e.push(a[2]=i);var n,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=r(t),n=function(e){c.onerror=c.onload=null,clearTimeout(l);var a=s[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+i+": "+n+")");r.type=i,r.request=n,a[1](r)}s[t]=void 0}};var l=setTimeout(function(){n({type:"timeout",target:c})},12e4);c.onerror=c.onload=n,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://webres.psy-1.com/sgy/dist/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var h=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0020":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACx0lEQVRYR+1XTW4aMRT2MxKeXblBySIRXpWeINwg3CD0BCUnSHKC0BOUnqDTExRuACsP2UBuALshi3nVh2xkHM+QElCkqiNlwWD8Pr/v5zkk3vmhd64v/n0A8/m88fz8fMXMXSFEQ0p5c3FxMXGdP0kHjDFNIroSQqBox6eZmcda6+27owF4fHxsF0VxbYs2y7R1NABo7Xq9viSirmvvawT9JgBorZTy0hZEe0sfZn4SQoyklGlRFG0iusXigwEYYzpE9HvPKafMnNZqtdQXmjHm7hgAtpsEIH7hpCistV7EAB4dANoopRzU6/XR2dnZMla0TCNvocBv473W+i4s7NkPNttqBHogoo9/pQEruGtmniilxnme9z0etwA8+6Fo24JagRJQkyRJGvz2dTmQZVlfCPHgnRKtbtjPKREtffvZU6ZWCyO/OwdrYDabdYui2KSZa2GE72/MPCgTINYfDMAvlmXZQAjxtcSGCyLaOAF0hcI8CoBgk3vwixS0Wf8pADYholRKOTo/Px+fBIDvAlguz3MHJqQL2sHfZj6c1IYoYP2PxHSOCFlbojtFUfzQWo9Kp6H1NDh3G+EE7hTRHLCWRHHnlsrkbrVaFAXgcxbbgZmjALIsw0XD18NKCIF49t9hXkDQi2gHjDFDIsJcr5p0LwAYY3pE9N39CCCTJBnAEb6DKjUQTjwvXMAbgumDFVIMQOnEy7IMqYgbUrUIg4VPSZK0naeD7yoBoL1Kqc95nuMOeMvMPa8zX7TWQ/d5RwPGGHj7MjxlRFw3rVYLPG6fkIIS/qZKqY4fVDsA/FMKITZhAuUHV66VUqoZG8P+ASIAplLKnn9RwZodAMh+Zv65R4A7LfTX2gzAmPYjG5Nx4AQZ7v3ChhUuwEZ9n78qoBC0tVr0lhTVgHtpO9Fj5k2ggAql1LDs9lOZNnu+PNr/BYeC+A/gD1EVDD/8WYXQAAAAAElFTkSuQmCC"},"06ea":function(t,e,a){"use strict";var i=a("ac54"),s=a.n(i);s.a},2154:function(t,e,a){"use strict";var i=a("4c95"),s=a.n(i);s.a},"21bb":function(t,e,a){"use strict";var i=a("b954"),s=a.n(i);s.a},"2b2a":function(t,e,a){},"3a4b":function(t,e,a){"use strict";a.r(e);a("7bc1");function i(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},e=function(t){var e=t.id;if(this._el=document.getElementById(e),null!==this._el){this._radius=t.radius||10,this._duration=void 0===t.duration?500:t.duration,this._value=1e-7,this._maxValue=t.maxValue||100,this._text=void 0===t.text?function(t){return this.htmlifyNumber(t)}:t.text,this._strokeWidth=t.width||10,this._colors=t.colors||["#EEE","#F00"],this._svg=null,this._movingPath=null,this._wrapContainer=null,this._textContainer=null,this._wrpClass=t.wrpClass||"circles-wrp",this._textClass=t.textClass||"circles-text",this._valClass=t.valueStrokeClass||"circles-valueStroke",this._maxValClass=t.maxValueStrokeClass||"circles-maxValueStroke",this._styleWrapper=!1!==t.styleWrapper,this._styleText=!1!==t.styleText;var a=Math.PI/180*270;this._start=-Math.PI/180*90,this._startPrecise=this._precise(this._start),this._circ=a-this._start,this._generate().update(t.value||0)}};return e.prototype={VERSION:"0.0.6",_generate:function(){return this._svgSize=2*this._radius,this._radiusAdjusted=this._radius-this._strokeWidth/2,this._generateSvg()._generateText()._generateWrapper(),this._el.innerHTML="",this._el.appendChild(this._wrapContainer),this},_setPercentage:function(t){this._movingPath.setAttribute("d",this._calculatePath(t,!0)),this._textContainer.innerHTML=this._getText(this.getValueFromPercent(t))},_generateWrapper:function(){return this._wrapContainer=document.createElement("div"),this._wrapContainer.className=this._wrpClass,this._styleWrapper&&(this._wrapContainer.style.position="relative",this._wrapContainer.style.display="inline-block"),this._wrapContainer.appendChild(this._svg),this._wrapContainer.appendChild(this._textContainer),this},_generateText:function(){if(this._textContainer=document.createElement("div"),this._textContainer.className=this._textClass,this._styleText){var t={position:"absolute",top:0,left:0,textAlign:"center",width:"100%",fontSize:.7*this._radius+"px",height:this._svgSize+"px",lineHeight:this._svgSize+"px"};for(var e in t)this._textContainer.style[e]=t[e]}return this._textContainer.innerHTML=this._getText(0),this},_getText:function(t){return this._text?(void 0===t&&(t=this._value),t=parseFloat(t.toFixed(2)),"function"===typeof this._text?this._text.call(this,t):this._text):""},_generateSvg:function(){return this._svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._svg.setAttribute("xmlns","http://www.w3.org/2000/svg"),this._svg.setAttribute("width",this._svgSize),this._svg.setAttribute("height",this._svgSize),this._generatePath(100,!1,this._colors[0],this._maxValClass)._generatePath(1,!0,this._colors[1],this._valClass),this._movingPath=this._svg.getElementsByTagName("path")[1],this},_generatePath:function(t,e,a,i){var s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("fill","transparent"),s.setAttribute("stroke",a),s.setAttribute("stroke-width",this._strokeWidth),s.setAttribute("d",this._calculatePath(t,e)),s.setAttribute("class",i),this._svg.appendChild(s),this},_calculatePath:function(t,e){var a=this._start+t/100*this._circ,i=this._precise(a);return this._arc(i,e)},_arc:function(t,e){var a=t-.001,i=t-this._startPrecise<Math.PI?0:1;return["M",this._radius+this._radiusAdjusted*Math.cos(this._startPrecise),this._radius+this._radiusAdjusted*Math.sin(this._startPrecise),"A",this._radiusAdjusted,this._radiusAdjusted,0,i,1,this._radius+this._radiusAdjusted*Math.cos(a),this._radius+this._radiusAdjusted*Math.sin(a),e?"":"Z"].join(" ")},_precise:function(t){return Math.round(1e3*t)/1e3},htmlifyNumber:function(t,e,a){e=e||"circles-integer",a=a||"circles-decimals";var i=(t+"").split("."),s='<span class="'+e+'">'+i[0]+"</span>";return i.length>1&&(s+='.<span class="'+a+'">'+i[1].substring(0,2)+"</span>"),s},updateRadius:function(t){return this._radius=t,this._generate().update(!0)},updateWidth:function(t){return this._strokeWidth=t,this._generate().update(!0)},updateColors:function(t){this._colors=t;var e=this._svg.getElementsByTagName("path");return e[0].setAttribute("stroke",t[0]),e[1].setAttribute("stroke",t[1]),this},getPercent:function(){return 100*this._value/this._maxValue},getValueFromPercent:function(t){return this._maxValue*t/100},getValue:function(){return this._value},getMaxValue:function(){return this._maxValue},update:function(e,a){if(!0===e)return this._setPercentage(this.getPercent()),this;if(this._value==e||isNaN(e))return this;void 0===a&&(a=this._duration);var i,s,n,r,o=this,c=o.getPercent(),l=1;return this._value=Math.min(this._maxValue,Math.max(0,e)),a?(i=o.getPercent(),s=i>c,l+=i%1,n=Math.floor(Math.abs(i-c)/l),r=a/n,function e(a){if(s?c+=l:c-=l,s&&c>=i||!s&&c<=i)t(function(){o._setPercentage(i)});else{t(function(){o._setPercentage(c)});var n=Date.now(),u=n-a;u>=r?e(n):setTimeout(function(){e(Date.now())},r-u)}}(Date.now()),this):(this._setPercentage(this.getPercent()),this)}},e.create=function(t){return new e(t)},e}e["default"]=i},"40be":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAChklEQVRYR91X0XHaQBDdPWa4+wsdBH4Y7sukAujA7iCkguAKbFcQOgipwEoFIR2YrxP8YHeA/wTDaDPL3GkO+SRhI4aZ6FOcbt++fW93QbjwgxeOD/8/gNVq1dput9dEdAMALSHEbbfbfXLMn4UBY0wbEa8BgIMO/TIT0V+tdfauNgDL5bKfpulXG7RdpK3aADC1m81mgIg3jt5jBH0SAKZWCDGwAZnewoeIXgBgJoSI0jTtI+IdH/4wAGPMEBH/VGQ5J6Ko0WhEvtCMMfd1AMguyYH4zZlyYK31cwhg7QCYRiHEpNlszjqdzjoUtEgjp5TAp/FBa32fD+zZj22WaYT1gIifT9VAEIBnPw7at6BeuSRcGqVUlCTJuG4NRIi49u1ns4ysFmY+O7VrwF3O9UREFzQoQD5bOwAi+qWUGhcJMKCNem1IREERFvWIczBQCYBtuNvtrtI0ZXG2iWh0Fhfks7bj94cLmP/96D5gPf3dsxZPuP2UKyqBtSS369ZJ09CvWeiiIgBxHPOiceV98woA7I7sXSUDxpgpIvJcL5t0bzRgjBkh4k/Pog9KqQk7JY7jCQAwm+XTMD/xvOayRsQxAHwqKkGZ0uM45q7IG1I5gNzBF6VU33k991uIAX9aPkspvyRJwjvgnS9IIvqmtZ46pg5WMmPMDBEH+SwD4rrt9XpMa/bkS1BQv7mUcug3sAMAfpYA8MRt1np4v9G6QSOlbIe6oJ9AAMBcCDHyFxU+cwBgsVjwfvdYIcADCv2zdgfgMb0XnANMRBMnyPzdb7biEhfwiB379SsDyoJmCxZtSUENuJeWiRER7WnnUkgpp8cOnzJglQy85+M6ztb2x+SjYC4O4B8c1AU/QwoCdgAAAABJRU5ErkJggg=="},"4c95":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("3c6b"),a("7bc1"),a("dac5"),a("6e26"),a("9604"),a("df67");var i=a("6e6d"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"app-template"},[a("router-view")],1)])},n=[],r=a("157a"),o=a.n(r),c={data:function(){return{}},methods:{},mounted:function(){}},l=c,u=(a("5c0b"),a("5c64"),a("17cc")),h=Object(u["a"])(l,s,n,!1,null,null,null),d=h.exports,g=a("3bc2"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home animated fadeIn",style:t.home_height},[i("Music",{ref:"music",staticClass:"music"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.$root.showWarning,expression:"$root.showWarning"}],staticClass:"not-allow-template"},[i("div",{staticClass:"template"},[i("img",{staticClass:"title-bg",attrs:{src:t.star_data.star_info.star_share_bg}}),i("img",{staticClass:"mask",attrs:{src:a("e389")}}),i("div",{staticClass:"content"},[i("img",{attrs:{src:a("ea92")}}),i("div",[t._v("请使用手机QQ、微信、微博，扫码参与活动，为爱豆助力！")]),i("div",{staticClass:"light-button",on:{click:function(e){t.$root.showWarning=!1}}},[t._v("我知道了")])])])]),i("img",{staticClass:"start-pro",attrs:{src:t.star_data.star_info.star_share_bg}}),i("div",{staticClass:"content-template"},[i("img",{staticClass:"top-mask",attrs:{src:a("e389")}}),i("div",{staticClass:"fans-avatar"},[i("img",{staticClass:"avatar",attrs:{src:t.star_data.fans_info.fans_avatar}}),i("div",{staticClass:"circle",attrs:{id:"circles-1"}})]),i("div",{staticClass:"fans-name"}),i("div",{staticClass:"help-desc"},[i("div",{staticClass:"top"},[t._v("快来帮 "),i("span",{staticStyle:{color:"RGBA(83, 155, 230, 1)"}},[t._v(t._s(t.star_data.star_info.star_name))]),t._v(" 点亮星光")]),i("div",{staticClass:"bottom"},[t._v("享受爱豆暖心哄")])]),i("div",{staticClass:"light-button",class:{clickBefore:t.clb},on:{click:t.submitData}},[t._v(t._s(t.clb?"乖乖去睡":"为他点亮"))]),i("div",{staticClass:"friend"},[i("span",{staticClass:"special-font"},[t._v(t._s(t.star_data.total_user))]),t._v(" 位好友点亮星光 "),i("span",{staticClass:"special-font"},[t._v(t._s(t.star_data.total_score))])]),i("div",{staticClass:"lighten-list-template"},t._l(t.star_data.lighten_list,function(e,a){return i("div",{key:a,staticClass:"list"},[i("div",{staticClass:"left"},[i("img",{staticClass:"avatar",attrs:{src:e.visitor_avatar}}),i("div",{staticClass:"name-template"},[i("div",{staticClass:"name"},[t._v(t._s(e.visitor_name))]),i("div",{staticClass:"date"},[t._v(t._s(t.parseDate(e.created_at)))])])]),i("div",{staticClass:"right"},[t._v("+"+t._s(e.visitor_score))])])}),0),i("div",{staticClass:"bottom-desc"},[t._v("小睡眠·COSLEEPER备份")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showTips,expression:"showTips"}],staticClass:"tips animated fadeIn",on:{click:function(e){t.showTips=!1}}},[i("img",{staticClass:"success-img",attrs:{src:t.tipsImage}})])],1)},f=[],m=(a("34a3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{ref:"audio",staticClass:"music light",attrs:{src:t.tgImg},on:{click:t.musicPlay}}),a("audio",{ref:"zz",attrs:{src:t.musicPath,id:"myaudio",controls:"",hidden:"",loop:t.loop}},[a("source",{attrs:{src:t.musicPath,type:"audio/mpeg"}})])])}),v=[],_={name:"music",data:function(){return{toggle:!0,loop:!1,onPath:a("40be"),offPath:a("0020"),musicPath:""}},computed:{tgImg:function(){var t=this.toggle;return t=this.toggle?this.offPath:this.onPath,t}},methods:{musicPlay:function(t){t.preventDefault(),this.dontBorderMeFUCKYOU();try{document.getElementById("myaudio").paused}catch(t){!0===this.toggle?(document.getElementById("myaudio").play(),document.querySelector(".light").classList.add("light-go"),this.toggle=!1):(document.getElementById("myaudio").pause(),document.querySelector(".light").classList.remove("light-go"),this.toggle=!0)}var e=document.getElementById("myaudio");console.log(e),e.paused?(e.play(),document.querySelector("#myaudio").play(),e.paused||(document.querySelector(".light").classList.add("light-go"),this.toggle=!1)):(e.pause(),e.paused&&(document.querySelector(".light").classList.remove("light-go"),this.toggle=!0))},rawPlay:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=document.querySelector("#myaudio");if(e.paused){e.play();var a="";if(t)setInterval(function(){e.play()},40);e.paused||(t&&setTimeout(function(){clearInterval(a)},400),console.log(e.paused),console.log("这是Ok的"),document.querySelector(".light").classList.add("light-go"),this.toggle=!1)}},rawPause:function(){var t=document.querySelector("#myaudio");if(!t.paused){var e=document.querySelector("#myaudio");e.pause(),e.paused&&(this.toggle=!0)}},initMusic:function(){var t=this;this.$store.getters.isWeiXin?document.addEventListener("WeixinJSBridgeReady",function(){t.musicCanPlaythrough(),t.rawPlay(),console.log("??dasdasdasdas")},!1):(this.musicCanPlaythrough(),this.rawPlay(!0))},musicCanPlaythrough:function(){},dontBorderMeFUCKYOU:function(){localStorage.setItem("fuckyou","1")}},mounted:function(){this.initMusic(),localStorage.removeItem("fuckyou")}},w=_,y=(a("06ea"),a("8f19"),Object(u["a"])(w,m,v,!1,null,"29880646",null)),b=y.exports,A=a("3a4b"),C={name:"home",data:function(){return{clb:!0,showTips:!1,tipsImage:"",home_height:0,star_data:{star_info:{},fans_info:{},total_user:{},lighten_list:{}}}},components:{Music:b},methods:{parseDate:function(t){return this.WJH.dateFormat(+(t+"000"),"yyyy-MM-dd")},toRem:function(t){return+document.querySelector("html").style.fontSize.replace("px","")*(+t/37.5)},circleMounted:function(){var t=A.default();t.create({id:"circles-1",radius:this.toRem(38),value:21,maxValue:100,width:this.toRem(3),text:function(t){return""},colors:["rgba(255, 255, 255, 0.2)","#F8C074"],duration:400,wrpClass:"circles-wrp",textClass:"circles-text",valueStrokeClass:"circles-valueStroke",maxValueStrokeClass:"circles-maxValueStroke",styleWrapper:!0,styleText:!0})},submitData:function(){var t=this;localStorage.getItem("name")&&!this.$root.test("avatar")?this.clb||this.$axios.post("/web/v1/cosleep/sleep/star/visitor/lighten",{fans_id:this.star_data.fans_info.fans_id,visitor_name:localStorage.getItem("name")||2,visitor_avatar:localStorage.getItem("avatar")||2}).then(function(e){var a=e.data.status;1===a&&(t.clb=!0,t.showTips=!0,t.tipsImage=e.data.data.visitor_avatar)}):this.$root.test()},getData:function(){var t=this;this.circleMounted(),this.$axios.get("/web/v1/cosleep/sleep/star/visitor",{params:{fans_id:1}}).then(function(e){if(1===e.data.status){var a=e.data.data;0===a.today_lighten&&(t.clb=!1),t.star_data=a,t.$refs.music.musicPath=a.star_info.star_audio_mini,t.$nextTick(function(){})}})}},mounted:function(){this.getData()}},S=C,x=(a("21bb"),a("2154"),Object(u["a"])(S,p,f,!1,null,null,null)),I=x.exports;i["a"].use(g["a"]);var k=new g["a"]({routes:[{path:"/",name:"home",component:I},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),P=a("591a");i["a"].use(P["a"]);var M=new P["a"].Store({state:{},getters:{isWeiXin:function(){return/micromessenger/.test(navigator.userAgent.toLowerCase())},isApp:function(){function t(){var t=!1;try{t=!1}catch(e){}return t}function e(){return!1}return e()||t()}},mutations:{},actions:{}}),E=a("e1bc");Object(E["a"])("".concat("https://webres.psy-1.com/sgy/dist/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")}});var B=a("849a"),R=(a("0857"),a("7c56"),a("0eb5"),a("a4c5"),a("f763"),a("2a3d")),j=a("77ad"),T=function(){function t(){Object(R["a"])(this,t)}return Object(j["a"])(t,null,[{key:"promiseForBoolean",value:function(){var t,e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};Object.assign(i,a);var s=function(e){a.boolean===!i.boolean&&(clearInterval(t),e())};return e=new Promise(function(e,a){t=setInterval(s.bind(null,e),1e3)}),e}},{key:"getAPIData",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new(new XMLHttpRequest),s="";i.open("GET",t),i.onreadystatechange=function(){4===this.readyState&&200===this.status&&e&&e()},i.setRequestHeader("Content-Type","application/json");var n=!0,r=!1,o=void 0;try{for(var c,l=a[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var u=c.value,h=u.val,d=u.key;s+=d+"="+h+"&"}}catch(g){r=!0,o=g}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}s.replace(/&$/,""),i.send()}},{key:"randomNum",value:function(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}}},{key:"musicCount",value:function(t){var e=parseInt(t),a=0,i=0;e>60&&(a=parseInt(e/60),e=parseInt(e%60),a>60&&(i=parseInt(a/60),a=parseInt(a%60)));var s="";parseInt(e)<10&&(s="0");var n=s+parseInt(e)+" ",r="0";return n=r+parseInt(a)+" : "+n,i>0&&(n=parseInt(i)+"小时"+n),n}},{key:"dateFormat",value:function(t,e){if(!e||"string"!==typeof e)return console.error("format is undefiend or type is Error"),"";t=t instanceof Date?t:"number"===typeof t||"string"===typeof t?new Date(t):new Date;var a={"y+":t.getFullYear(),"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var i in a)if(new RegExp(i).test(e)){var s=RegExp.lastMatch;e=e.replace(s,a[i]<10?"0"+a[i]:a[i].toString())}return e}},{key:"judgeWeiXin",value:function(){var t=null;return window.navigator.userAgent.toLowerCase().match(/QQ/i)&&(t=window.navigator.userAgent.toLowerCase().match(/QQ/i)[0]),!(!/micromessenger/.test(navigator.userAgent.toLowerCase())&&"qq"!==t)}},{key:"deepCopy",value:function(e){var a=e.constructor===Array?[]:{};for(var i in e)a[i]="object"===Object(B["a"])(e[i])?t.deepCopy(e[i]):e[i];return a}},{key:"deBounce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=null;return function(){null!==a&&clearTimeout(a),a=setTimeout(t,e)}}},{key:"parseQuery",value:function(t){var e={},a=/[?&]([^=&#]+)=([^&#]*)/g,i=t.match(a);if(i)for(var s in i){var n=i[s].split("="),r=n[0].substr(1),o=n[1];e[r]?e[r]=[].concat(e[r],o):e[r]=o}return e}}]),t}(),N=(a("7364"),a("2427")),O=a.n(N),D=function(){function t(e){var a=e.url,i=e.title,s=e.desc,n=e.pic,r=e.dataUrl,o=void 0===r?null:r,c=e.isWeiBo,l=void 0!==c&&c;Object(R["a"])(this,t),a,this.isWeiBo=l,this.url=a,this.title=i,this.desc=s,this.pic=n,this.dataUrl=o,this.clientId=4164070707,this.secrite="ac44d0764e9799478d6524ef2137e731"}return Object(j["a"])(t,[{key:"appShare",value:function(){var t={type1:{title:this.title,desc:this.desc,link:this.url,imgUrl:this.pic,shareType:1},type2:{title:this.title,link:this.url,imgUrl:this.pic,shareType:2},type3:{imgUrl:"",shareType:3}};document.getElementById("share").value=JSON.stringify(t),document.getElementById("share2").value=JSON.stringify(t.type1),document.getElementById("share3").value=JSON.stringify(t.type2)}},{key:"callAppRouter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,i={Method:t,Data:e},s="CB_".concat(Date.now(),"_").concat(Math.ceil(10*Math.random()));i=JSON.stringify(i),Xinchao.Web[s]=function(t,e){a&&a(t,e),delete Xinchao.Web[s]},/(iPhone|iPad|iPod)/i.test(navigator.userAgent)?window.webkit.messageHandlers.XinchaoApp.postMessage({req:i,cbName:s}):XinchaoApp.callRouter(i,s)}},{key:"appGetName",value:function(){var t=this;this.callAppRouter("isLogin",{},function(e,a){"已登录"===JSON.parse(a).msg&&t.callAppRouter("Login",{},function(t,e){try{var a=JSON.parse(e);localStorage.setItem("name",a.data.name),localStorage.setItem("avatar",a.data.avatar),console.log(a,"hkjhkhk"),console.log(a.data.name,"fgjhfjhfj")}catch(i){console.log(e.data.avatar),localStorage.setItem("avatar",e.data.avatar),localStorage.setItem("name",e.data.name),console.log(e.data.name)}})})}},{key:"weiXinShare",value:function(){var t=this,e={title:t.title,desc:t.desc,link:t.url,imgUrl:t.pic};this.dataUrl,wx.ready(function(t){wx.onMenuShareAppMessage(e),wx.onMenuShareQQ(e),wx.onMenuShareQZone(e),wx.onMenuShareTimeline(e),wx.error(function(t){})})}},{key:"weiXinSDK",value:function(t,e){if(this.isWeiBo&&!localStorage.getItem("name")&&e)window.location.href="https://api.weibo.com/oauth2/authorize?client_id=".concat(this.clientId,"&response_type=code&redirect_uri=").concat(encodeURI(location.href.split("#")[0]));else if(!this.isWeiBo||e){var a=new XMLHttpRequest,i=this;a.open("GET",t+"/web/v1/wechat/config?debug=1&url="+encodeURIComponent(location.href.split("#")[0])),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){console.log("sdk ok",e,e&&!localStorage.getItem("name"));var s=JSON.parse(a.response);console.log(s.data.wechat_config),s.data.wechat_config.debug=!1;var n="wx632d4c99bd681cf3";console.log("bl 没有bl 吗？",e,e&&!localStorage.getItem("name")),e&&!localStorage.getItem("name")&&(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+n+"&redirect_uri="+encodeURI(location.href.split("#")[0])+"&response_type=code&scope=snsapi_userinfo#wechart_redirect"),e&&!localStorage.getItem("name")||(wx.config(s.data.wechat_config),i.weiXinShare(),i.weiXinGetName(t))}},a.send()}else O.a.get(t+"/web/v1/weibo/user?redirect_uri=".concat(encodeURI(location.href.split("#")[0]),"&code=").concat(localStorage.getItem("code"))).then(function(t){console.log(t.data.data),localStorage.setItem("name",t.data.data.name),console.log(t.data.data.avatar_hd),localStorage.setItem("avatar",t.data.data.avatar_hd)})}},{key:"weatherCode",value:function(){var t=T.parseQuery(window.location.href).code;return console.log(t),!!t&&(localStorage.setItem("code",t),t)}},{key:"weiXinGetName",value:function(t){if(!localStorage.getItem("name")){console.log(e+"cd"+localStorage.getItem("code"));var e=localStorage.getItem("code").replace(/code=/,"").replace(/\&.+/,"");O.a.get(t+"/web/v1/wechat/user",{params:{code:e}}).then(function(t){var e=t.data;e.hasOwnProperty("data")&&(console.log(e),console.log("设置session"),localStorage.setItem("avatar",e.data.headimgurl),localStorage.setItem("name",e.data.nickname),console.log(e.data.nickname))})}}},{key:"weiXinInit",value:function(t){var e=this.weatherCode();e?this.weiXinSDK(t,!1):this.weiXinSDK(t,!0)}},{key:"appInit",value:function(){this.appShare(),this.appGetName()}},{key:"rawWeiXinShare",value:function(t){var e=new XMLHttpRequest,a=this;e.open("GET",t+"/web/v1/wechat/config?debug=1&url="+encodeURIComponent(location.href.split("#")[0])),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){console.log("sdk ok");var t=JSON.parse(e.response);console.log(t.data.wechat_config),t.data.wechat_config.debug=!1,wx.config(t.data.wechat_config),a.weiXinShare()}},e.send()}},{key:"rawGetName",value:function(){}}]),t}(),X=function(){function t(){Object(R["a"])(this,t)}return Object(j["a"])(t,null,[{key:"is_cosleep",value:function(){return this.is_cosleep_android()||this.is_cosleep_ios()}},{key:"is_cosleep_ios",value:function(){var t=!1;try{t="undefined"!==typeof window.webkit.messageHandlers.XinchaoApp}catch(e){}return t}},{key:"is_cosleep_android",value:function(){return"undefined"!==typeof window.XinchaoApp}},{key:"get_api_root",value:function(){switch("production"){case"production":return"https://api.psy-1.com";case"test":return"https://api.debug.psy-1.com"}}},{key:"get_web_root",value:function(){switch("production"){case"production":return"https://www.heartide.com";case"test":return"https://web.debug.psy-1.com"}}},{key:"baidu_statics",value:function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?c6a0be7a2e98e04ca2cf523568e2cbc4";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}}]),t}();console.log("production","experiment");var W="https://api.debug.psy-1.com",q=O.a.create({baseURL:W});i["a"].prototype.WJH=T,i["a"].prototype.$axios=q,i["a"].config.productionTip=!1,a("dc72"),i["a"].use(o.a),console.log(Object({NODE_ENV:"production",VUE_APP_TITLE:"experiment",BASE_URL:"https://webres.psy-1.com/sgy/dist/"})),new i["a"]({router:k,store:M,data:function(){return{url:W,share:"",showWarning:!1}},methods:{shareM:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"小睡眠",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;this.share=new D({pic:a,url:window.location.href.split("#")[0],title:t,desc:e}),this.share.appShare(),this.share.rawWeiXinShare(this.url)},test:function(){var t=navigator.userAgent.toLowerCase();if(X.is_cosleep())this.share.appGetName();else if(/micromessenger/.test(navigator.userAgent.toLowerCase()))this.share.weiXinInit(this.url),this.share.weatherCode(),this.share.weiXinGetName(this.url);else if("weibo"==t.match(/weibo/i)){var e=new D({pic:"asd",url:window.location.href.split("#")[0],title:"ads",desc:"asd",isWeiBo:!0});e.weiXinInit(this.url)}else this.showWarning=!0}},create:function(){},mounted:function(){},render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var i=a("2b2a"),s=a.n(i);s.a},"5c64":function(t,e,a){"use strict";var i=a("9e02"),s=a.n(i);s.a},6152:function(t,e,a){},"8f19":function(t,e,a){"use strict";var i=a("6152"),s=a.n(i);s.a},"9e02":function(t,e,a){},ac54:function(t,e,a){},b954:function(t,e,a){},dc72:function(t,e){function a(){var t=document.documentElement.clientWidth,e=document.querySelector("html");e.style.fontSize=t/10+"px"}a(),window.addEventListener("resize",a)},e389:function(t,e,a){t.exports=a.p+"img/top-mask.ac58f203.png"},ea92:function(t,e,a){t.exports=a.p+"img/block.8cd3b773.png"}});
//# sourceMappingURL=app.02ba4947.js.map