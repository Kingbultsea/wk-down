(function(e){function t(t){for(var o,i,s=t[0],_=t[1],c=t[2],u=0,d=[];u<s.length;u++)i=s[u],r[i]&&d.push(r[i][0]),r[i]=0;for(o in _)Object.prototype.hasOwnProperty.call(_,o)&&(e[o]=_[o]);l&&l(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,i=1;i<a.length;i++){var _=a[i];0!==r[_]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},r={app:0},n=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"b8cabc56"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise(function(t,o){a=r[e]=[t,o]});t.push(a[2]=o);var n,_=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e),n=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=r[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+n+")");i.type=o,i.request=n,a[1](i)}r[e]=void 0}};var u=setTimeout(function(){n({type:"timeout",target:c})},12e4);c.onerror=c.onload=n,_.appendChild(c)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="https://webres.psy-1.com/sgy/dist/",s.oe=function(e){throw console.error(e),e};var _=window["webpackJsonp"]=window["webpackJsonp"]||[],c=_.push.bind(_);_.push=t,_=_.slice();for(var u=0;u<_.length;u++)t(_[u]);var l=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1c25":function(e,t,a){},"20e0":function(e,t,a){"use strict";var o=a("1c25"),r=a.n(o);r.a},"433f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8BAMAAADI0sRBAAAAMFBMVEX///8AAAD///////////////////////////////////////////////////////9PNSPeAAAAEHRSTlNmAF8UA0QKOC5NQB0ZUEhaTqdUwQAAAZFJREFUOMuFlb1OAkEUhU8IGOTPTCAsKDEkJFpYyRNAbUPBC6ytMaG1g1Ir6SwxsbBE4wOIT7CVrVbWvoCJ63p3Zg+7m3vK/fLNTHbm3gvjcnbz0S/8PL4YF4fb15Dc+Wnc+4RNY+Ow0Fsksrth3J6AUvIJPwOckyTuIJWFw61VGlfGFl8iI+8xbgVZuD4WvI/M3AueZ+PyPz5ATp4ifJ6HjyI8ycOlP9xDbjYh7ubjZYhfZaWLPuJ8vSFKLcRyzztmaPcce3LvBm35VjXNWJ/aDX3El1U4DXWRzSy+NtiTDUJdZM+eDSOQTjKKWIN0klHFHKSTjDJWIJ1kVBCAdJJRxzdIf0jK2EMfpBuR5QMA0kXOTmX7cdDimBrTpN3oaOGxfTOkowUkewPS61iRPLMXJ79lTjJAehlrkgHSqxixzHoRXZZZX6LDMusL+xQbIpPuu4ccyaJ7orgyqEWy6IeuDLry7Qo2x7LiUilBpYCV8leah9J6lMaltD2laSotV2nYSrtXhoUyapRBpY05ZUj+Ap8GZcaWaNQOAAAAAElFTkSuQmCC"},"522c":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view"),e._m(0),o("transition",{attrs:{name:"fade"}},[e.show?o("div",{staticClass:"warn-open-outer"},[o("div",{staticClass:"warn"},[o("p",{staticClass:"title"},[e._v("试听结束")]),o("p",{staticClass:"center"},[e._v("打开小睡眠App即可体验此音频组合完整版！ (～￣▽￣)～ ")]),o("p",{staticClass:"warn-open",on:{click:e.aa}},[e._v("打开小睡眠App")]),o("img",{staticClass:"close",attrs:{src:a("433f")},on:{click:e.hehe}})])]):e._e()]),o("transition",{attrs:{name:"fade"}},[e.tips_toggle?o("div",{staticClass:"tips"},[e._v("请点击右上角菜单使用浏览器打开")]):e._e()])],1)},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bottom"},[o("a",{attrs:{target:"view_window",href:"https://a.app.qq.com/o/simple.jsp?pkgname=com.psyone.brainmusic"}},[o("div",{staticClass:"bottom-img"},[o("img",{staticClass:"bottom-hehe",attrs:{src:a("b78c")}})])]),o("a",{attrs:{target:"view_window",href:"https://a.app.qq.com/o/simple.jsp?pkgname=com.psyone.brainmusic"}},[o("p",{staticClass:"bottom-center"},[e._v("小睡眠，不负休憩好时光")])]),o("a",{staticClass:"dl",attrs:{target:"view_window",href:"https://a.app.qq.com/o/simple.jsp?pkgname=com.psyone.brainmusic"}},[o("p",{staticClass:"bottom-dl"},[e._v("下载")])])])}];function i(){var e=document.documentElement.clientWidth,t=document.querySelector("html");t.style.fontSize=e/10+"px"}i(),window.addEventListener("resize",i);var s={data:function(){return{show:!1,tips_toggle:!1}},methods:{hehe:function(){this.show=!this.show,document.querySelector("#myaudio").play()},aa:function(){this.$children[0].openApp()}}},_=s,c=(a("f43f"),a("5c64"),a("2877")),u=Object(c["a"])(_,r,n,!1,null,"122539ca",null);u.options.__file="App.vue";var l=u.exports,d=a("8c4f"),p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home common-page"},[o("div",{staticClass:"music-group"},[o("music",{staticClass:"music",attrs:{offPath:e.offPath,onPath:e.onPath,musicPath:e.musicPath}}),o("div",{staticClass:"music-count"},[e._v(e._s(e.two))])],1),o("img",{staticClass:"content-img",attrs:{src:a("e234")}}),o("div",{staticClass:"icon-list"},e._l(e.tubiao,function(t){return o("div",{staticClass:"icon"},[o("img",{attrs:{src:t.resurl},on:{click:function(e){}}}),o("p",[e._v(e._s(t.musicdesc))])])})),o("div",{staticClass:"user"},[o("img",{attrs:{src:e.user_pic}}),o("p",[e._v(e._s(e.user_name))])]),o("div",{staticClass:"desc"},[o("div",{staticClass:"desc-cont"},[e._v("\n      "+e._s(e.share_article_content)+"\n    ")]),o("div",{staticClass:"shadow"})]),o("div",{staticClass:"open",on:{click:e.openApp}},[e._v("\n      打开App体验完整版组合\n    ")])])},m=[],h=a("9cae"),f=h["a"],g=(a("20e0"),Object(c["a"])(f,p,m,!1,null,"1a95747c",null));g.options.__file="Home.vue";var v=g.exports;o["a"].use(d["a"]);var w=new d["a"]({routes:[{path:"/",name:"home",component:v},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),y=a("2f62"),b=a("c665"),E=a("aa9a"),P=function(){function e(){Object(b["a"])(this,e)}return Object(E["a"])(e,null,[{key:"is_cosleep",value:function(){return this.is_cosleep_android()||this.is_cosleep_ios()}},{key:"is_cosleep_ios",value:function(){var e=!1;try{e="undefined"!=typeof window.webkit.messageHandlers.XinchaoApp}catch(e){}return e}},{key:"is_cosleep_android",value:function(){return"undefined"!=typeof window.XinchaoApp}},{key:"get_api_root",value:function(){switch("production"){case"production":return"https://api.psy-1.com";case"test":return"https://api.debug.psy-1.com"}}},{key:"get_web_root",value:function(){switch("production"){case"production":return"https://www.heartide.com";case"test":return"https://web.debug.psy-1.com"}}},{key:"baidu_statics",value:function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c6a0be7a2e98e04ca2cf523568e2cbc4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}]),e}();o["a"].use(y["a"]);var O=new y["a"].Store({state:{},mutations:{},getters:{isWeiXin:function(){return/micromessenger/.test(navigator.userAgent.toLowerCase())},isApp:function(){return console.log("????"),P.is_cosleep()}},actions:{}});o["a"].config.productionTip=!1,new o["a"]({router:w,store:O,render:function(e){return e(l)}}).$mount("#app")},"5b8b":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return n});a("ac4d"),a("8a81"),a("ac6a"),a("a481"),a("f751");var o=a("c665"),r=a("aa9a"),n=function(){function e(){Object(o["a"])(this,e)}return Object(r["a"])(e,[{key:"promiseForBoolean",value:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={};Object.assign(o,a);var r=function(t){a.boolean===!o.boolean&&(clearInterval(e),t())};return t=new Promise(function(t,a){e=setInterval(r.bind(null,t),1e3)}),t}},{key:"getAPIData",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new(new XMLHttpRequest),r="";o.open("GET",e),o.onreadystatechange=function(){4===this.readyState&&200===this.status&&t&&t()},o.setRequestHeader("Content-Type","application/json");var n=!0,i=!1,s=void 0;try{for(var _,c=a[Symbol.iterator]();!(n=(_=c.next()).done);n=!0){var u=_.value,l=u.val,d=u.key;r+=d+"="+l+"&"}}catch(e){i=!0,s=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw s}}r.replace(/&$/,""),o.send()}},{key:"randomNum",value:function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}}},{key:"musicCount",value:function(e){var t=parseInt(e),a=0,o=0;t>60&&(a=parseInt(t/60),t=parseInt(t%60),a>60&&(o=parseInt(a/60),a=parseInt(a%60)));var r="";parseInt(t)<10&&(r="0");var n=r+parseInt(t)+" ",i="0";return n=i+parseInt(a)+" : "+n,o>0&&(n=parseInt(o)+"小时"+n),n}}]),e}()},"5c64":function(e,t,a){"use strict";var o=a("5c9b"),r=a.n(o);r.a},"5c9b":function(e,t,a){},"7a0e":function(e,t,a){},"8dfb":function(e,t,a){},"8f19":function(e,t,a){"use strict";var o=a("522c"),r=a.n(o);r.a},"9cae":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac4d"),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("8a81"),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("386d"),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("4917"),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("3b2b"),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_11__),_components_music_vue__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("abde"),_components_shareandgetname_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("fce9");function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t);return null!=a?unescape(a[2]):null}__webpack_exports__["a"]={name:"home",data:function(){return{offPath:"https://res.psy-1.com/music/voice/tinysleep_sheep_play2-BHgSoY5B6WFClAfSEh2i.png",onPath:"https://res.psy-1.com/music/voice/tinysleep_sheep_stop2-jwlPPhdRF58oErMNroV2.png",musicPath:"",code:getQueryString("code").replace(/#/,"").replace(/\//,""),two:"",user_pic:"",user_name:"",tubiao:{},share_article_content:"",share_article_title:"",type:"",article_id:10010,share_article_id:""}},methods:{getData:function getData(url){var _this=this,type=0,st="/web/v1/cosleep/forum/article/share/query";try{type=getQueryString("type").replace(/#/,"").replace(/\//,"")}catch(e){console.log("没有"),type=0}st=2==type?"/web/v1/cosleep/forum/article/share/query":"/web/v1/cosleep/music/share/query",2==type&&(global_type=2),console.log(st),$.get(url+st,{code:getQueryString("code").replace(/#/,"").replace(/\//,"")},function(data){_this.musicPath=data.data.share_music_combine,document.querySelector("#myaudio").setAttribute("src",_this.musicPath),get.boolean=!0,2==type&&(_this.share_article_id=data.data.share_article_id);var user=JSON.parse(data.data.share_user_info);_this.user_name=user.name,_this.user_pic=user.avatar;var tubiao=eval("("+data.data.share_music_list+")");_this.tubiao=tubiao,console.log(tubiao),_this.share_article_title=data.data.share_article_title,0==type?(_this.share_article_title="今晚点它,一夜好觉",document.title="今晚点它 一夜好觉"):(_this.share_article_title="失眠专用",document.title="失眠专用"),_this.share_article_content=data.data.share_article_content;var title_list="",_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=tubiao[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var li=_step.value;console.log(li),title_list+=li.musicdesc+"+"}}catch(e){_didIteratorError=!0,_iteratorError=e}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}title_list=title_list.replace(/\+$/,""),_this.share("http://wx1.sinaimg.cn/mw690/006Zdy2vgy1fwjdfkq0thj305k05k0nx.jpg",_this.share_article_title,title_list,data.data.share_music_combine)})},musicDetail:function(){var e=[];for(var t in this.tubiao)e.push({id:this.tubiao[t].id,music_volume:this.tubiao[t].music_volume,music_rate:this.tubiao[t].music_rate});var a="",o=e;for(var r in o)for(var n in o[r])a+="music_detail["+r+"]["+n+"]="+o[r][n]+"&";return a.replace(/&$/,"")},musicCount:function(){var e=Math.round(document.querySelector("#myaudio").duration)-Math.round(document.querySelector("#myaudio").currentTime);this.two=this.formatSeconds(e)},formatSeconds:function(e){var t=parseInt(e),a=0,o=0;t>60&&(a=parseInt(t/60),t=parseInt(t%60),a>60&&(o=parseInt(a/60),a=parseInt(a%60)));var r="";parseInt(t)<10&&(r="0");var n=r+parseInt(t)+" ",i="0";return n=i+parseInt(a)+":"+n,o>0&&(n=parseInt(o)+"小时"+n),n},share:function(e,t,a,o){var r=new _components_shareandgetname_js__WEBPACK_IMPORTED_MODULE_13__["a"]({pic:"http://wx1.sinaimg.cn/mw690/006Zdy2vgy1fwruhu6ne4j30jm0l4aaf.jpg",url:window.location.href.split("#")[0],title:t,desc:a,dataUrl:o});r.rawWeiXinShare("https://api.debug.psy-1.com"),this.$store.getters.isApp&&r.appInit()},openApp:function(){var e=this;this.$store.getters.isWeiXin?(this.$parent.tips_toggle=!0,setTimeout(function(){e.$parent.tips_toggle=!1},1e3)):this.appOpenSet()},appOpenSet:function(){var e=this,t=function(){var e;return function(){return e||(e=document.createElement("iframe"),e.style.display="none",document.body.appendChild(e),e)}}(),a="cosleep://",o=function(e){var t=a;for(var o in e)t=t+o+"="+encodeURIComponent(e[o])+"&";return t=t.substring(0,t.length-1),encodeURIComponent(t)},r=function(){var a=o(),r=t();if(/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)){console.log(decodeURI("cosleep://deeplink?code=10010&music_detail_code="+e.code+"&"+encodeURI(e.musicDetail()))),2==global_type?(window.location.href="https://www.psy-1.com/app/redirect?code=1017&article_id="+e.share_article_id,e.toDownLoad()):(window.location.href="https://www.psy-1.com/app/redirect?code=10010&music_detail_code="+e.code,e.toDownLoad());var n=Date.now();setTimeout(function(){var t=Date.now();t-n<1e3&&(console.log(decodeURI("cosleep://deeplink?code=10010&music_detail_code="+e.code+"&"+encodeURI(e.musicDetail()))),2==global_type?(window.location.href="cosleep://deeplink?code=1017&article_id="+e.share_article_id,e.toDownLoad()):(window.location.href="cosleep://deeplink?code=10010&music_detail_code="+e.code,e.toDownLoad()))},25)}else/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?(r.src=a,setTimeout(function(){window.location.href="https://www.heartide.com/download/smallsleep"},500)):(r.src=a,setTimeout(function(){2==global_type?(window.location.href="cosleep://deeplink?code=1017&article_id="+e.share_article_id,e.toDownLoad()):(window.location.href="cosleep://deeplink?code=10010&music_detail_code="+e.code,e.toDownLoad())},500))};r()},toDownLoad:function(){setTimeout(function(){window.location.href="https://www.heartide.com/download/smallsleep"},3e3)}},components:{music:_components_music_vue__WEBPACK_IMPORTED_MODULE_12__["a"]},mounted:function(){var e=this;document.querySelector("#myaudio").addEventListener("canplaythrough",function(){e.musicCount(),setInterval(e.musicCount,1e3)}),this.getData("https://api.debug.psy-1.com"),document.querySelector("#myaudio").addEventListener("ended",function(){e.$parent.show=!0})}}},a6ca:function(e,t,a){"use strict";var o=a("7a0e"),r=a.n(o);r.a},abde:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{ref:"audio",staticClass:"music",attrs:{src:e.tgImg},on:{click:e.musicPlay}}),a("audio",{ref:"zz",attrs:{id:"myaudio",controls:"",hidden:"",loop:e.loop}},[a("source",{attrs:{type:"audio/mpeg"}})])])},r=[],n=(a("f751"),a("cadf"),a("551c"),a("097d"),a("5b8b"),{name:"music",props:["onPath","offPath","musicPath"],data:function(){return{toggle:!0,loop:!1}},computed:{tgImg:function(){var e=this.toggle;return e=this.toggle?this.$props.offPath:this.$props.onPath,e}},methods:{musicPlay:function(){this.dontBorderMeFUCKYOU();var e=document.getElementById("myaudio");e.paused?(console.log(e),e.play(),document.querySelector("#myaudio").play(),e.paused||(this.toggle=!1)):(e.pause(),e.paused&&(this.toggle=!0))},rawPlay:function(){var e=document.querySelector("#myaudio");e.paused&&(e.play(),e.paused||(this.toggle=!1))},rawPause:function(){if(!music_dom.paused){var e=document.querySelector("#myaudio");e.pause(),e.paused&&(this.toggle=!0)}},initMusic:function(){var e=this;this.$store.getters.isWeiXin?document.addEventListener("WeixinJSBridgeReady",function(){console.log("微信兄弟！"),e.musicCanPlaythrough(),e.rawPlay(),console.log("??dasdasdasdas")},!1):this.$store.getters.isApp&&(console.log("asdasdsad"),this.musicCanPlaythrough())},musicCanPlaythrough:function(){console.log("asdasdsssb");var e=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={};Object.assign(o,a);var r=function(t){a.boolean===!o.boolean&&(clearInterval(e),t())};return t=new Promise(function(t,a){e=setInterval(r.bind(null,t),1e3)}),t};e(get).then(this.rawPlay)},dontBorderMeFUCKYOU:function(){localStorage.setItem("fuckyou","1")}},mounted:function(){this.initMusic(),console.log("??"),localStorage.removeItem("fuckyou")}}),i=n,s=(a("a6ca"),a("8f19"),a("2877")),_=Object(s["a"])(i,o,r,!1,null,"4a09600e",null);_.options.__file="music.vue";t["a"]=_.exports},b78c:function(e,t,a){e.exports=a.p+"img/hehe.8efa2f84.png"},e234:function(e,t,a){e.exports=a.p+"img/cosleep_share_img_window@3x.7874a6e1.png"},f43f:function(e,t,a){"use strict";var o=a("8dfb"),r=a.n(o);r.a},fce9:function(e,t,a){"use strict";a.d(t,"a",function(){return n});a("a481"),a("4917"),a("28a5"),a("7f7f");var o=a("c665"),r=a("aa9a"),n=(a("cadf"),a("551c"),a("097d"),function(){function e(t){var a=t.url,r=t.title,n=t.desc,i=t.pic,s=t.dataUrl,_=void 0===s?null:s;Object(o["a"])(this,e),console.log("??"),this.url=a,this.title=r,this.desc=n,this.pic=i,this.dataUrl=_}return Object(r["a"])(e,[{key:"appShare",value:function(){var e={type1:{title:this.title,desc:this.desc,link:this.url,imgUrl:this.pic,shareType:1},type2:{title:this.title,link:this.url,imgUrl:this.pic,shareType:2},type3:{imgUrl:"",shareType:3}};document.getElementById("share").value=JSON.stringify(e),document.getElementById("share2").value=JSON.stringify(e.type1),document.getElementById("share3").value=JSON.stringify(e.type2)}},{key:"callAppRouter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o={Method:e,Data:t},r="CB_".concat(Date.now(),"_").concat(Math.ceil(10*Math.random()));o=JSON.stringify(o),Xinchao.Web[r]=function(e,t){a&&a(e,t),delete Xinchao.Web[r]},/(iPhone|iPad|iPod)/i.test(navigator.userAgent)?window.webkit.messageHandlers.XinchaoApp.postMessage({req:o,cbName:r}):XinchaoApp.callRouter(o,r)}},{key:"appGetName",value:function(){var e=this;this.callAppRouter("isLogin",{},function(t,a){"已登录"===JSON.parse(a).msg&&e.callAppRouter("Login",{},function(e,t){try{var a=JSON.parse(t);localStorage.setItem("name",a.data.name),console.log(a.data.name)}catch(e){localStorage.setItem("name",t.data.name),console.log(t.data.name)}})})}},{key:"weiXinShare",value:function(){var e=this;console.log(this.pic);var t={title:e.title,desc:e.desc,link:e.url,imgUrl:"http://wx4.sinaimg.cn/mw690/006Zdy2vgy1fwha7bumsnj30a409tdfy.jpg"};this.dataUrl,wx.ready(function(e){wx.onMenuShareAppMessage(t),wx.onMenuShareQQ(t),wx.onMenuShareQZone(t),wx.onMenuShareTimeline(t),wx.error(function(e){})})}},{key:"weiXinSDK",value:function(e,t){var a=new XMLHttpRequest,o=this;a.open("GET",e+"/web/v1/wechat/config?debug=1&url="+encodeURIComponent(location.href.split("#")[0])),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){console.log("sdk ok");var r=JSON.parse(a.response);console.log(r.data.wechat_config),r.data.wechat_config.debug=!1,t&&!localStorage.getItem("name")&&(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx632d4c99bd681cf3&redirect_uri="+encodeURI(location.href.split("#")[0])+"&response_type=code&scope=snsapi_userinfo#wechart_redirect"),t&&!localStorage.getItem("name")||(wx.config(r.data.wechat_config),o.weiXinShare(),o.weiXinGetName(e))}},a.send()}},{key:"weatherCode",value:function(){var e=/code=(.+?)&/,t=window.location.href.match(e);return sessionStorage.setItem("code",t),t||!1}},{key:"weiXinGetName",value:function(e){if(!localStorage.getItem("name")){console.log(t+"asd你想要的"+sessionStorage.getItem("code"));var t=sessionStorage.getItem("code").replace(/code=/,"").replace(/\&.+/,"");$.get(e+"/web/v1/wechat/user",{code:t},function(e){console.log("jq都不行？"),console.log(e.data.nickname),localStorage.setItem("name",e.data.nickname)})}}},{key:"weiXinInit",value:function(e){var t=this.weatherCode();t?this.weiXinSDK(e,!1):this.weiXinSDK(e,!0)}},{key:"appInit",value:function(){this.appShare(),this.appGetName()}},{key:"rawWeiXinShare",value:function(e){var t=new XMLHttpRequest,a=this;t.open("GET",e+"/web/v1/wechat/config?debug=1&url="+encodeURIComponent(location.href.split("#")[0])),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){console.log("sdk ok");var e=JSON.parse(t.response);console.log(e.data.wechat_config),e.data.wechat_config.debug=!1,wx.config(e.data.wechat_config),a.weiXinShare()}},t.send()}},{key:"rawGetName",value:function(){if(!localStorage.getItem("name")){console.log(e+"asd你想要的"+sessionStorage.getItem("code"));var e=sessionStorage.getItem("code").replace(/code=/,"").replace(/\&.+/,"");$.get(url+"/web/v1/wechat/user",{code:e},function(e){console.log("jq都不行？"),console.log(e.data.nickname),localStorage.setItem("name",e.data.nickname)})}}}]),e}())}});
//# sourceMappingURL=app.16d329d6.js.map